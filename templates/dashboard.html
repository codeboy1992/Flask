{% extends "base.html" %}

{% block title %}Dashboard{% endblock %}

{% block content %}
    <h1>Bienvenue, {{ user.username }} !</h1>
    <p>Email : {{ user.email }}</p>

    {% if user.is_admin %}
    <div class="mt-3">
        <h3>Vous êtes administrateur</h3>

        <!-- Boutons pour naviguer entre le dashboard et l'admin dashboard -->
        <div class="mt-3">
            <a href="{{ url_for('dashboard') }}" class="btn btn-primary">Voir Dashboard Personnel</a>
            <a href="{{ url_for('admin_dashboard') }}" class="btn btn-secondary">Voir Admin Dashboard</a>
        </div>

        <h4 class="mt-4">Liste des utilisateurs (par ordre d'inscription) :</h4>
        <table class="table">
            <thead>
                <tr>
                    <th>Nom d'utilisateur</th>
                    <th>Email</th>
                </tr>
            </thead>
            <tbody>
                {% for u in users %}
                <tr>
                    <td>{{ u.username }}</td>
                    <td>{{ u.email }}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <div class="mt-3">
        <h3>Vous êtes un utilisateur normal</h3>
        <p>Nombre total d'utilisateurs : {{ total_users }}</p>
        <h4>Liste des usernames :</h4>
        <ul>
            {% for username in usernames %}
            <li>{{ username }}</li>
            {% endfor %}
        </ul>
    </div>
    {% endif %}
{% endblock %}
